[{"content":"æœ€è¿‘æŠŠåšå®¢ä» Hexo æ¢æˆäº† Hugoï¼Œé¡ºä¾¿é‡æ–°è®¾è®¡äº†ä¸€ä¸‹æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚è¶çƒ­ä¹è®°å½•ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åè‡ªå·±æŸ¥ã€‚\nå…ˆè¯´ç»“è®ºï¼šæ•´ä½“æµç¨‹ ç®€å•æ¥è¯´å°±æ˜¯è¿™ä¹ˆä¸ªäº‹å„¿ï¼š\næˆ‘å†™ Markdown â†’ æ¨åˆ° GitHub â†’ Actions è‡ªåŠ¨ç¼–è¯‘ â†’ æœåŠ¡å™¨æ‹‰å– â†’ Cloudflare åŠ é€Ÿ ç”»ä¸ªå›¾æ›´æ¸…æ¥šï¼š\næœ¬åœ°å†™æ–‡ç«  (Markdown) â†“ git push GitHub main åˆ†æ”¯ â†“ è§¦å‘ Actions GitHub Actions ç¼–è¯‘ â†“ ç”Ÿæˆé™æ€æ–‡ä»¶ gh-pages åˆ†æ”¯ â†“ æœåŠ¡å™¨ git pull Nginx æ‰˜ç®¡é™æ€æ–‡ä»¶ â†“ Cloudflare CDN ç¼“å­˜åŠ é€Ÿ â†“ ç”¨æˆ·è®¿é—® ä¸ºå•¥è¦æè¿™ä¹ˆå¤æ‚ï¼Ÿä¸»è¦æ˜¯ä¸æƒ³æ¯æ¬¡æ”¹ä¸ªé”™åˆ«å­—éƒ½è¦ç™»æœåŠ¡å™¨æ‰‹åŠ¨æ“ä½œã€‚\nä¸ºå•¥é€‰ Hugo ä¹‹å‰ç”¨çš„ Hexoï¼Œæ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æœ‰å‡ ä¸ªç—’ç‚¹ï¼š\nnpm ä¾èµ–å¤ªå¤šäº†ã€‚æ¯æ¬¡ CI å…‰è£…ä¾èµ–å°±å¾—å¥½ä¸€ä¼šå„¿ï¼Œå¶å°”è¿˜ä¼šå‡ºç‚¹ç‰ˆæœ¬å†²çªçš„å¹ºè›¾å­ æœ¬åœ°é¢„è§ˆæ…¢ã€‚æ–‡ç« å¤šäº†ä¹‹åï¼Œçƒ­æ›´æ–°æ˜æ˜¾å˜å¡ æƒ³å°å°é²œã€‚Hugo ç”¨ Go å†™çš„ï¼Œæ®è¯´å¿«å¾—ç¦»è°± å®é™…ç”¨ä¸‹æ¥ï¼Œç¡®å®å¿«ã€‚æœ¬åœ°é¢„è§ˆåŸºæœ¬ç§’å¼€ï¼ŒGitHub Actions é‚£è¾¹æ„å»ºä¹Ÿå°±å‡ ç§’é’Ÿçš„äº‹ã€‚\nGitHub Actionsï¼šè‡ªåŠ¨åŒ–æ„å»º è¿™æ˜¯æ•´å¥—æµç¨‹çš„æ ¸å¿ƒã€‚é…ç½®æ–‡ä»¶åœ¨ .github/workflows/hugo.ymlï¼Œåšçš„äº‹æƒ…ä¹Ÿç®€å•ï¼š\nname: Build Hugo Site on: push: branches: [main] jobs: build: runs-on: ubuntu-latest steps: - name: è£… Hugo run: | wget -O hugo.deb https://github.com/gohugoio/hugo/releases/... sudo dpkg -i hugo.deb - name: æ‹‰ä»£ç  uses: actions/checkout@v4 with: submodules: recursive # ä¸»é¢˜æ˜¯ submodule - name: ç¼–è¯‘ run: hugo --gc --minify - name: æ¨åˆ° gh-pages uses: peaceiris/actions-gh-pages@v4 with: publish_dir: ./public publish_branch: gh-pages - name: é¡ºæ‰‹æ¸…ä¸€ä¸‹ CDN ç¼“å­˜ run: curl -X POST \u0026#34;https://api.cloudflare.com/...\u0026#34; ... æ¯æ¬¡ push åˆ° main åˆ†æ”¯ï¼ŒActions å°±è‡ªåŠ¨è·‘è¿™ä¸€å¥—ã€‚æˆåŠŸä¹‹åï¼Œç¼–è¯‘å¥½çš„é™æ€æ–‡ä»¶å°±èººåœ¨ gh-pages åˆ†æ”¯é‡Œäº†ã€‚\nåŒåˆ†æ”¯ç­–ç•¥ è¿™ä¸ªè®¾è®¡æˆ‘æŒºæ»¡æ„çš„ï¼š\nmain åˆ†æ”¯ï¼šæºä»£ç ï¼ŒMarkdown æ–‡ä»¶ + ä¸»é¢˜é…ç½® gh-pages åˆ†æ”¯ï¼šç¼–è¯‘äº§ç‰©ï¼Œçº¯é™æ€æ–‡ä»¶ å¥½å¤„æ˜¯æœåŠ¡å™¨ä¸Šä¸ç”¨è£… Hugoï¼Œç›´æ¥æ‹‰ gh-pages å°±èƒ½ç”¨ã€‚ä¸‡ä¸€å“ªå¤©æƒ³æ¢ä¸ªéƒ¨ç½²æ–¹å¼ï¼Œä¹Ÿæ–¹ä¾¿ã€‚\næœåŠ¡å™¨è¿™è¾¹ æœåŠ¡å™¨å°±åšä¸¤ä»¶äº‹ï¼š\nå®šæ—¶ï¼ˆæˆ–æ‰‹åŠ¨ï¼‰ä» gh-pages æ‹‰æœ€æ–°çš„é™æ€æ–‡ä»¶ Nginx ä¼ºå€™ç€ Nginx é…ç½®æ²¡å•¥ç‰¹åˆ«çš„ï¼Œä¸»è¦æ˜¯åŠ äº†ç‚¹ç¼“å­˜å’Œå‹ç¼©ï¼š\nserver { listen 80; server_name blog.kkkk24juastin.asia; root /var/www/blog; # å‹ç¼© gzip on; gzip_types text/css application/javascript text/html; # é™æ€èµ„æºç¼“å­˜ä¹…ä¸€ç‚¹ location ~* \\.(css|js|png|jpg|woff2)$ { expires 1y; add_header Cache-Control \u0026#34;public, immutable\u0026#34;; } } æ›´æ–°è„šæœ¬ä¹Ÿå°±å‡ è¡Œï¼š\n#!/bin/bash cd /var/www/blog git fetch origin gh-pages git reset --hard origin/gh-pages æ‰” crontab é‡Œå®šæ—¶è·‘ï¼Œæˆ–è€…é…ä¸ª webhook è§¦å‘éƒ½è¡Œã€‚\nCloudflare åŠ é€Ÿ æœ€åæŒ‚äº†å±‚ Cloudflareï¼Œä¸»è¦å›¾å‡ ä¸ªå¥½å¤„ï¼š\nå…¨çƒ CDNã€‚è®¿å®¢èƒ½ä»å°±è¿‘èŠ‚ç‚¹æ‹¿ç¼“å­˜ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å›æº å…è´¹ SSLã€‚æ‡’å¾—è‡ªå·±æŠ˜è…¾è¯ä¹¦ DDoS é˜²æŠ¤ã€‚è™½ç„¶æˆ‘è¿™å°ç ´ç«™åº”è¯¥æ²¡äººä¼šæ‰“ ä¸è¿‡æœ‰ä¸ªå‘ï¼šCloudflare é»˜è®¤ä¸ç¼“å­˜ HTML é¡µé¢ã€‚å¯¹äºé™æ€åšå®¢æ¥è¯´è¿™å¤ªäºäº†ï¼Œå¾—æ‰‹åŠ¨åŠ ä¸ª Cache Ruleï¼Œè®©å®ƒæŠŠ HTML ä¹Ÿç¼“å­˜ä¸Šã€‚\né…ç½®å¥½ä¹‹åï¼Œè®¿é—®é€Ÿåº¦ä»ä¹‹å‰çš„ 2 ç§’å¤šé™åˆ°äº†å‡ åæ¯«ç§’ï¼Œæ•ˆæœç«‹ç«¿è§å½±ã€‚\nå®é™…æ•ˆæœ ä¼˜åŒ–å‰åçš„å¯¹æ¯”ï¼š\næŒ‡æ ‡ ä¹‹å‰ ç°åœ¨ é¦–å­—èŠ‚æ—¶é—´ (TTFB) 2.28s ~50ms é¡µé¢åŠ è½½ 3.5s 0.8s ä¸»è¦æå‡æ¥è‡ª CDN ç¼“å­˜ã€‚ä»£ç å±‚é¢å…¶å®å·²ç»æ²¡å•¥å¯ä¼˜åŒ–çš„äº†ï¼Œç“¶é¢ˆéƒ½åœ¨ç½‘ç»œå»¶è¿Ÿã€‚\nä¸€äº›ç¢ç¢å¿µ æ•´å¥—æµç¨‹è·‘ä¸‹æ¥ï¼Œæœ€çˆ½çš„æ˜¯çœŸçš„ä¸ç”¨æ“å¿ƒéƒ¨ç½²äº†ã€‚å†™å®Œæ–‡ç« ï¼Œcommit + pushï¼Œç­‰ä¸ªå‡ åç§’ï¼Œåˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°æ›´æ–°ã€‚\nå½“ç„¶ä¹Ÿæœ‰ä¸çˆ½çš„åœ°æ–¹ã€‚Hugo çš„æ¨¡æ¿è¯­æ³•ï¼ˆGo Templateï¼‰ç”¨èµ·æ¥ä¸å¤ªé¡ºæ‰‹ï¼Œæ–‡æ¡£ä¹Ÿæ¯”è¾ƒæ•£ã€‚ä¸è¿‡å¿å¿å°±å¥½ï¼Œæ¯•ç«Ÿä¸»é¢˜é…å¥½äº†åŸºæœ¬ä¸ç”¨æ”¹ã€‚\nå¦‚æœä½ ä¹Ÿåœ¨æŠ˜è…¾åšå®¢ï¼Œå¸Œæœ›è¿™ç¯‡èƒ½æœ‰ç‚¹å¸®åŠ©ã€‚æœ‰é—®é¢˜å¯ä»¥ç•™è¨€ï¼Œçœ‹åˆ°ä¼šå›çš„ ğŸ‘‹\n","permalink":"https://blog.kkkk24juastin.asia/posts/hugo-blog-architecture/","summary":"\u003cp\u003eæœ€è¿‘æŠŠåšå®¢ä» Hexo æ¢æˆäº† Hugoï¼Œé¡ºä¾¿é‡æ–°è®¾è®¡äº†ä¸€ä¸‹æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚è¶çƒ­ä¹è®°å½•ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åè‡ªå·±æŸ¥ã€‚\u003c/p\u003e\n\u003ch2 id=\"å…ˆè¯´ç»“è®ºæ•´ä½“æµç¨‹\"\u003eå…ˆè¯´ç»“è®ºï¼šæ•´ä½“æµç¨‹\u003c/h2\u003e\n\u003cp\u003eç®€å•æ¥è¯´å°±æ˜¯è¿™ä¹ˆä¸ªäº‹å„¿ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eæˆ‘å†™ Markdown â†’ æ¨åˆ° GitHub â†’ Actions è‡ªåŠ¨ç¼–è¯‘ â†’ æœåŠ¡å™¨æ‹‰å– â†’ Cloudflare åŠ é€Ÿ\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç”»ä¸ªå›¾æ›´æ¸…æ¥šï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eæœ¬åœ°å†™æ–‡ç«  (Markdown)\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“ git push\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eGitHub main åˆ†æ”¯\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“ è§¦å‘ Actions\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eGitHub Actions ç¼–è¯‘\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“ ç”Ÿæˆé™æ€æ–‡ä»¶\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egh-pages åˆ†æ”¯\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“ æœåŠ¡å™¨ git pull\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eNginx æ‰˜ç®¡é™æ€æ–‡ä»¶\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“ \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eCloudflare CDN ç¼“å­˜åŠ é€Ÿ\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        â†“\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eç”¨æˆ·è®¿é—®\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä¸ºå•¥è¦æè¿™ä¹ˆå¤æ‚ï¼Ÿä¸»è¦æ˜¯ä¸æƒ³æ¯æ¬¡æ”¹ä¸ªé”™åˆ«å­—éƒ½è¦ç™»æœåŠ¡å™¨æ‰‹åŠ¨æ“ä½œã€‚\u003c/p\u003e\n\u003ch2 id=\"ä¸ºå•¥é€‰-hugo\"\u003eä¸ºå•¥é€‰ Hugo\u003c/h2\u003e\n\u003cp\u003eä¹‹å‰ç”¨çš„ Hexoï¼Œæ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æœ‰å‡ ä¸ªç—’ç‚¹ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003enpm ä¾èµ–å¤ªå¤šäº†\u003c/strong\u003eã€‚æ¯æ¬¡ CI å…‰è£…ä¾èµ–å°±å¾—å¥½ä¸€ä¼šå„¿ï¼Œå¶å°”è¿˜ä¼šå‡ºç‚¹ç‰ˆæœ¬å†²çªçš„å¹ºè›¾å­\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæœ¬åœ°é¢„è§ˆæ…¢\u003c/strong\u003eã€‚æ–‡ç« å¤šäº†ä¹‹åï¼Œçƒ­æ›´æ–°æ˜æ˜¾å˜å¡\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæƒ³å°å°é²œ\u003c/strong\u003eã€‚Hugo ç”¨ Go å†™çš„ï¼Œæ®è¯´å¿«å¾—ç¦»è°±\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå®é™…ç”¨ä¸‹æ¥ï¼Œç¡®å®å¿«ã€‚æœ¬åœ°é¢„è§ˆåŸºæœ¬ç§’å¼€ï¼ŒGitHub Actions é‚£è¾¹æ„å»ºä¹Ÿå°±å‡ ç§’é’Ÿçš„äº‹ã€‚\u003c/p\u003e","title":"èŠèŠè¿™ä¸ªåšå®¢æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„"},{"content":"èµ·å›  å‰ä¸¤å¤©è§‰å¾—åšå®¢æ‰“å¼€æœ‰ç‚¹æ…¢ï¼Œä½†ä¹Ÿæ²¡å¤ªåœ¨æ„ã€‚ä»Šå¤©é—²ç€æ²¡äº‹ï¼Œæ‹¿ curl æµ‹äº†ä¸€ä¸‹ï¼Œå¥½å®¶ä¼™ï¼Œé¦–å­—èŠ‚æ—¶é—´ï¼ˆTTFBï¼‰å±…ç„¶è¦ 2.28 ç§’ï¼š\ncurl -s -o /dev/null -w \u0026#34;TTFB: %{time_starttransfer}s\\n\u0026#34; https://blog.kkkk24juastin.asia/ # è¾“å‡ºï¼šTTFB: 2.280466s è¿™ä¹Ÿå¤ªç¦»è°±äº†ã€‚æ˜æ˜æŒ‚ç€ Cloudflare CDNï¼Œæ€ä¹ˆè¿˜è¿™ä¹ˆæ…¢ï¼Ÿ\næ’æŸ¥è¿‡ç¨‹ å…ˆçœ‹çœ‹å“åº”å¤´ï¼š\ncurl -sI https://blog.kkkk24juastin.asia/ | grep -i cache # è¾“å‡ºï¼š # cf-cache-status: DYNAMIC # cache-control: max-age=3600 çœ‹åˆ° cf-cache-status: DYNAMIC æˆ‘å°±æ‡‚äº†ã€‚\nè¿™ç©æ„çš„æ„æ€æ˜¯ Cloudflare å‹æ ¹æ²¡ç¼“å­˜è¿™ä¸ªé¡µé¢ï¼Œæ¯æ¬¡è®¿é—®éƒ½è¦å›æºåˆ°æˆ‘çš„æœåŠ¡å™¨ã€‚è€Œæˆ‘çš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œç½‘ç»œå»¶è¿ŸåŠ ä¸Š TLS æ¡æ‰‹ï¼Œ2 ç§’å¤šå…¶å®ä¸ç®—æ„å¤–ã€‚\né—®é¢˜å‡ºåœ¨å“ª Cloudflare æœ‰ä¸ª\u0026quot;ç‰¹æ€§\u0026quot;ï¼šé»˜è®¤ä¸ç¼“å­˜ HTML é¡µé¢ã€‚\nå®ƒçš„é€»è¾‘æ˜¯ HTML é€šå¸¸æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸é€‚åˆç¼“å­˜ã€‚ä½†å¯¹äºé™æ€åšå®¢æ¥è¯´ï¼ŒHTML å°±æ˜¯é™æ€æ–‡ä»¶å•Šï¼Œä¸ºå•¥ä¸èƒ½ç¼“å­˜ï¼Ÿ\nè§£å†³æ–¹æ¡ˆ éœ€è¦æ‰‹åŠ¨åŠ ä¸€æ¡ Cache Ruleï¼Œå‘Šè¯‰ Cloudflareï¼šè¿™ä¸ªåŸŸåä¸‹çš„ HTML ä¹Ÿç»™æˆ‘ç¼“å­˜ä¸Šã€‚\næ“ä½œæ­¥éª¤ï¼š\nç™»å½• Cloudflare Dashboard é€‰ä½ çš„åŸŸå è¿› Caching â†’ Cache Rules åˆ›å»ºè§„åˆ™ï¼š åŒ¹é…æ¡ä»¶: ä¸»æœºå = blog.kkkk24juastin.asia ç¼“å­˜è®¾ç½®: - ç¬¦åˆç¼“å­˜æ¡ä»¶: æ˜¯ - è¾¹ç¼˜ TTL: 1 ä¸ªæœˆ - æµè§ˆå™¨ TTL: 1 å¤© ä¿å­˜ï¼Œç­‰å‡ åˆ†é’Ÿç”Ÿæ•ˆã€‚\næ•ˆæœéªŒè¯ å†è·‘ä¸€éï¼š\n# ç¬¬ä¸€æ¬¡ï¼Œé¢„çƒ­ç¼“å­˜ curl -s -o /dev/null -w \u0026#34;TTFB: %{time_starttransfer}s\\n\u0026#34; https://blog.kkkk24juastin.asia/ # TTFB: 1.1sï¼ˆå›æºäº†ï¼‰ # ç¬¬äºŒæ¬¡ï¼Œç¼“å­˜å‘½ä¸­ curl -s -o /dev/null -w \u0026#34;TTFB: %{time_starttransfer}s\\n\u0026#34; https://blog.kkkk24juastin.asia/ # TTFB: 0.045s # ç¡®è®¤ç¼“å­˜çŠ¶æ€ curl -sI https://blog.kkkk24juastin.asia/ | grep cf-cache-status # cf-cache-status: HIT ä» 2.28s é™åˆ° 45msï¼Œæå‡äº† 98%ã€‚\nèˆ’æœäº†ã€‚\nè¿˜åšäº†å•¥ æ—¢ç„¶éƒ½æŠ˜è…¾äº†ï¼Œé¡ºæ‰‹åšäº†å‡ ä¸ªå°ä¼˜åŒ–ï¼š\n1. ç¡®è®¤ Brotli å‹ç¼©å¼€äº† åœ¨ Cloudflare çš„ Speed â†’ Optimization é‡Œï¼Œç¡®ä¿ Brotli æ˜¯å¼€ç€çš„ã€‚æ¯” Gzip å‹ç¼©ç‡æ›´é«˜ã€‚\n2. åŠ äº†èµ„æºé¢„åŠ è½½ åœ¨ extend_head.html é‡ŒåŠ äº† DNS é¢„è§£æï¼š\n\u0026lt;link rel=\u0026#34;dns-prefetch\u0026#34; href=\u0026#34;//fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34; crossorigin\u0026gt; 3. æ„å»ºæ—¶è‡ªåŠ¨æ¸…ç¼“å­˜ åœ¨ GitHub Actions é‡ŒåŠ äº†ä¸€æ­¥ï¼Œæ¯æ¬¡éƒ¨ç½²å®Œè‡ªåŠ¨æ¸… Cloudflare ç¼“å­˜ï¼š\n- name: æ¸…ç¼“å­˜ run: | curl -X POST \u0026#34;https://api.cloudflare.com/client/v4/zones/$CF_ZONE_ID/purge_cache\u0026#34; \\ -H \u0026#34;Authorization: Bearer $CF_API_TOKEN\u0026#34; \\ --data \u0026#39;{\u0026#34;purge_everything\u0026#34;:true}\u0026#39; è¿™æ ·æ¯æ¬¡æ›´æ–°æ–‡ç« ï¼ŒCDN ä¼šç«‹åˆ»æ‹‰å–æœ€æ–°å†…å®¹ã€‚\næ€»ç»“ å¯¹äºé™æ€åšå®¢æ¥è¯´ï¼Œä¼˜åŒ–çš„é‡ç‚¹ä¸åœ¨ä»£ç å±‚é¢ï¼ˆHugo å·²ç»å¤Ÿå¿«äº†ï¼‰ï¼Œè€Œæ˜¯è®© CDN çœŸæ­£å‘æŒ¥ä½œç”¨ã€‚\nå¦‚æœä½ çš„åšå®¢ä¹ŸæŒ‚ç€ Cloudflare ä½†è¿˜æ˜¯æ…¢ï¼Œå…ˆæ£€æŸ¥ä¸€ä¸‹ cf-cache-status æ˜¯ä¸æ˜¯ HITã€‚ä¸æ˜¯çš„è¯ï¼Œå¤šåŠæ˜¯ç¼“å­˜è§„åˆ™æ²¡é…å¥½ã€‚\nå°±è¿™æ ·ï¼Œæ”¶å·¥ã€‚\n","permalink":"https://blog.kkkk24juastin.asia/posts/hugo-blog-speed-optimization-v2/","summary":"ä» 2.28s ä¼˜åŒ–åˆ° 50msï¼ŒåŸæ¥é—®é¢˜å‡ºåœ¨ Cloudflare æ²¡ç¼“å­˜ HTML","title":"åšå®¢åŠ è½½å¤ªæ…¢ï¼Ÿæˆ‘æ˜¯è¿™æ ·æ’æŸ¥å’Œè§£å†³çš„"},{"content":"å‘ç°é—®é¢˜ åšå®¢æ­å»ºå®Œæˆåï¼Œè®¿é—®æ—¶æ€»è§‰å¾—æœ‰ç‚¹å¡ã€‚æ‰“å¼€ Chrome DevTools çœ‹äº†ä¸‹ Network é¢æ¿ï¼Œå‘ç°å‡ ä¸ªé—®é¢˜ï¼š\nå›¾ç‰‡æ²¡æœ‰åšæ‡’åŠ è½½ï¼Œé¦–å±å°±åŠ è½½äº†æ‰€æœ‰å›¾ç‰‡ HTML/CSS/JS æ–‡ä»¶å¯ä»¥è¿›ä¸€æ­¥å‹ç¼© æ²¡æœ‰åˆ©ç”¨å¥½æµè§ˆå™¨ç¼“å­˜ å¤–éƒ¨èµ„æºï¼ˆå¦‚å­—ä½“ï¼‰è¯·æ±‚æœ‰å»¶è¿Ÿ æ—¢ç„¶å‘ç°äº†é—®é¢˜ï¼Œé‚£å°±ä¸€ä¸ªä¸ªè§£å†³ã€‚\nHugo æ„å»ºä¼˜åŒ– æ·±åº¦å‹ç¼©é…ç½® Hugo è‡ªå¸¦ minify åŠŸèƒ½ï¼Œä½†é»˜è®¤é…ç½®æ¯”è¾ƒä¿å®ˆã€‚åœ¨ hugo.toml ä¸­å¯ä»¥é…ç½®æ›´æ¿€è¿›çš„å‹ç¼©é€‰é¡¹ï¼š\n[minify] disableXML = true minifyOutput = true [minify.tdewolff] [minify.tdewolff.css] keepCSS2 = false precision = 0 [minify.tdewolff.html] keepDocumentTags = true keepEndTags = true keepQuotes = false keepWhitespace = false [minify.tdewolff.js] keepVarNames = false precision = 0 [minify.tdewolff.json] keepNumbers = false precision = 0 [minify.tdewolff.svg] keepComments = false precision = 0 è¿™ä¸ªé…ç½®ä½¿ç”¨äº† tdewolff/minify åº“çš„å‚æ•°ï¼Œå¯ä»¥å¯¹å„ç±»èµ„æºåšæ·±åº¦å‹ç¼©ï¼š\nCSS: ç§»é™¤ä¸å¿…è¦çš„ç©ºæ ¼ã€ç®€åŒ–æ•°å€¼ç²¾åº¦ HTML: ç§»é™¤ç©ºç™½ã€å¯é€‰å¼•å· JS: å‹ç¼©å˜é‡å SVG: ç§»é™¤æ³¨é‡Šã€ç®€åŒ–æ•°å€¼ æ„å»ºç¼“å­˜ é‡å¤æ„å»ºæ—¶ï¼Œå¾ˆå¤šèµ„æºæ˜¯ä¸å˜çš„ï¼Œå¯ä»¥åˆ©ç”¨ç¼“å­˜åŠ é€Ÿï¼š\n[build] writeStats = true [caches] [caches.assets] dir = \u0026#34;:resourceDir/_gen\u0026#34; maxAge = \u0026#34;720h\u0026#34; # 30 å¤© [caches.getcsv] dir = \u0026#34;:cacheDir/:project\u0026#34; maxAge = \u0026#34;4h\u0026#34; [caches.getjson] dir = \u0026#34;:cacheDir/:project\u0026#34; maxAge = \u0026#34;4h\u0026#34; [caches.getresource] dir = \u0026#34;:cacheDir/:project\u0026#34; maxAge = \u0026#34;4h\u0026#34; [caches.images] dir = \u0026#34;:resourceDir/_gen\u0026#34; maxAge = \u0026#34;720h\u0026#34; writeStats = true ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½¿ç”¨è¿‡çš„ç±»åçš„æ–‡ä»¶ï¼Œå¯ä»¥é…åˆ PurgeCSS åš tree-shakingï¼ˆè™½ç„¶ PaperMod ä¸»é¢˜æœ¬èº«å·²ç»å¾ˆç²¾ç®€äº†ï¼‰ã€‚\nå›¾ç‰‡å¤„ç†ä¼˜åŒ– Hugo çš„å›¾ç‰‡å¤„ç†åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œåˆç†é…ç½®å¯ä»¥å‡å°å›¾ç‰‡ä½“ç§¯ï¼š\n[imaging] quality = 80 resampleFilter = \u0026#34;Lanczos\u0026#34; hint = \u0026#34;photo\u0026#34; anchor = \u0026#34;Smart\u0026#34; bgColor = \u0026#34;#ffffff\u0026#34; [imaging.exif] disableDate = false disableLatLong = true # ä¿æŠ¤éšç§ quality = 80ï¼šå›¾ç‰‡è´¨é‡è®¾ä¸º 80%ï¼Œè‚‰çœ¼å‡ ä¹çœ‹ä¸å‡ºå·®åˆ«ï¼Œä½†ä½“ç§¯èƒ½å‡å°ä¸å°‘ resampleFilter = \u0026quot;Lanczos\u0026quot;ï¼šé«˜è´¨é‡é‡é‡‡æ ·ç®—æ³•ï¼Œé€‚åˆç¼©æ”¾ç…§ç‰‡ anchor = \u0026quot;Smart\u0026quot;ï¼šæ™ºèƒ½è£å‰ªï¼Œè‡ªåŠ¨è¯†åˆ«å›¾ç‰‡ä¸»ä½“ disableLatLong = trueï¼šç§»é™¤ EXIF ä¸­çš„ä½ç½®ä¿¡æ¯ï¼Œä¿æŠ¤éšç§ å‰ç«¯ä¼˜åŒ– DNS é¢„è§£æå’Œé¢„è¿æ¥ æµè§ˆå™¨è§£æåŸŸåéœ€è¦æ—¶é—´ï¼Œå¯ä»¥ç”¨ dns-prefetch æå‰è§£æå¤–éƒ¨åŸŸåï¼š\n\u0026lt;!-- æ”¾åœ¨ layouts/partials/extend_head.html --\u0026gt; \u0026lt;link rel=\u0026#34;dns-prefetch\u0026#34; href=\u0026#34;//fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;dns-prefetch\u0026#34; href=\u0026#34;//fonts.gstatic.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;dns-prefetch\u0026#34; href=\u0026#34;//cdn.jsdelivr.net\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34; crossorigin\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; preconnect æ¯” dns-prefetch æ›´è¿›ä¸€æ­¥ï¼Œä¼šæå‰å»ºç«‹å®Œæ•´çš„ TCP è¿æ¥ã€‚\nå›¾ç‰‡æ‡’åŠ è½½ ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒåŸç”Ÿçš„ loading=\u0026quot;lazy\u0026quot; å±æ€§ï¼Œä¸éœ€è¦é¢å¤–çš„ JS åº“ï¼š\ndocument.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { function addLoadedClass(img) { if (img.complete) { img.classList.add(\u0026#39;loaded\u0026#39;); } else { img.addEventListener(\u0026#39;load\u0026#39;, function() { img.classList.add(\u0026#39;loaded\u0026#39;); }); } } document.querySelectorAll(\u0026#39;.post-content img\u0026#39;).forEach(function(img) { if (!img.hasAttribute(\u0026#39;loading\u0026#39;)) { img.setAttribute(\u0026#39;loading\u0026#39;, \u0026#39;lazy\u0026#39;); img.setAttribute(\u0026#39;decoding\u0026#39;, \u0026#39;async\u0026#39;); } addLoadedClass(img); }); }); è¿™æ®µä»£ç åšäº†ä¸¤ä»¶äº‹ï¼š\nç»™æ‰€æœ‰æ–‡ç« å›¾ç‰‡æ·»åŠ  loading=\u0026quot;lazy\u0026quot; å’Œ decoding=\u0026quot;async\u0026quot; å±æ€§ å›¾ç‰‡åŠ è½½å®Œæˆåæ·»åŠ  loaded ç±»ï¼Œé…åˆ CSS åšæ¸æ˜¾æ•ˆæœ å›¾ç‰‡æ¸æ˜¾æ•ˆæœ é…åˆä¸Šé¢çš„ JSï¼Œåœ¨ CSS ä¸­å®ç°å¹³æ»‘çš„æ¸æ˜¾æ•ˆæœï¼š\n/* assets/css/extended/custom.css */ .post-content img, .entry-cover img { background-color: var(--code-bg); transition: opacity 0.3s ease-in-out; } .post-content img[loading=\u0026#34;lazy\u0026#34;], .entry-cover img[loading=\u0026#34;lazy\u0026#34;] { opacity: 0; } .post-content img.loaded, .entry-cover img.loaded { opacity: 1; } è¿™æ ·å›¾ç‰‡åœ¨åŠ è½½æ—¶ä¼šæ˜¾ç¤ºä¸€ä¸ªç°è‰²å ä½èƒŒæ™¯ï¼ŒåŠ è½½å®Œæˆåå¹³æ»‘æ˜¾ç¤ºã€‚\nå‡å°‘å¸ƒå±€åç§» å›¾ç‰‡åŠ è½½æ—¶å¦‚æœæ²¡æœ‰é¢„ç•™ç©ºé—´ï¼Œä¼šå¯¼è‡´é¡µé¢å¸ƒå±€è·³åŠ¨ï¼ˆCLS æŒ‡æ ‡ï¼‰ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ï¼š\n.post-content img { aspect-ratio: attr(width) / attr(height); height: auto; max-width: 100%; } å¦‚æœå›¾ç‰‡è®¾ç½®äº† width å’Œ height å±æ€§ï¼Œæµè§ˆå™¨å¯ä»¥æå‰è®¡ç®—å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”ï¼Œé¢„ç•™å¥½ç©ºé—´ã€‚\nå°Šé‡ç”¨æˆ·åå¥½ æœ‰äº›ç”¨æˆ·å¯èƒ½å¯¹åŠ¨ç”»æ•æ„Ÿï¼Œå¯ä»¥æ£€æµ‹å¹¶ç¦ç”¨è¿‡æ¸¡æ•ˆæœï¼š\n@media (prefers-reduced-motion: no-preference) { html { scroll-behavior: smooth; } } @media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; } } ä¼˜åŒ–æ•ˆæœ åšå®Œè¿™äº›ä¼˜åŒ–åï¼Œå†çœ‹ Lighthouse è·‘åˆ†ï¼š\næŒ‡æ ‡ ä¼˜åŒ–å‰ ä¼˜åŒ–å é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP) ~1.5s ~0.8s æœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP) ~2.5s ~1.5s ç´¯ç§¯å¸ƒå±€åç§» (CLS) 0.15 \u0026lt; 0.05 å½“ç„¶ï¼Œå®é™…æ•ˆæœè¿˜å–å†³äºæœåŠ¡å™¨æ€§èƒ½å’Œç”¨æˆ·ç½‘ç»œã€‚\næ›´å¤šä¼˜åŒ–æ€è·¯ è¿™æ¬¡åªåšäº† Hugo æœ¬èº«çš„ä¼˜åŒ–ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥ç»§ç»­ä¼˜åŒ–çš„æ–¹å‘ï¼š\nCDN åŠ é€Ÿï¼šæŠŠé™æ€èµ„æºæ”¾åˆ° CDN ä¸Šï¼Œå…¨çƒè®¿é—®éƒ½å¾ˆå¿« Gzip/Brotli å‹ç¼©ï¼šæœåŠ¡å™¨å¼€å¯å‹ç¼©ï¼Œè¿›ä¸€æ­¥å‡å°ä¼ è¾“ä½“ç§¯ HTTP/2ï¼šå¯ç”¨ HTTP/2 å¤šè·¯å¤ç”¨ï¼Œå¹¶è¡ŒåŠ è½½èµ„æº å­—ä½“ä¼˜åŒ–ï¼šä½¿ç”¨ font-display: swap é¿å…å­—ä½“é˜»å¡æ¸²æŸ“ å›¾ç‰‡æ ¼å¼ï¼šä½¿ç”¨ WebP/AVIF ç­‰ç°ä»£æ ¼å¼ åç»­æœ‰ç©ºå†ç»§ç»­æŠ˜è…¾ã€‚\nå‚è€ƒèµ„æ–™ Hugo å®˜æ–¹æ–‡æ¡£ - Configure Minify Hugo å®˜æ–¹æ–‡æ¡£ - Image Processing Web.dev - Browser-level image lazy loading Web.dev - Optimize Cumulative Layout Shift ","permalink":"https://blog.kkkk24juastin.asia/posts/hugo-blog-performance-optimization/","summary":"åšå®¢ä¸Šçº¿åå‘ç°åŠ è½½é€Ÿåº¦ä¸å¤ªç†æƒ³ï¼Œäºæ˜¯èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶ä¼˜åŒ–æ–¹æ¡ˆã€‚è¿™ç¯‡æ–‡ç« è®°å½•äº†ä» Hugo é…ç½®åˆ°å‰ç«¯æ ·å¼çš„å®Œæ•´ä¼˜åŒ–è¿‡ç¨‹ã€‚","title":"Hugo åšå®¢åŠ è½½é€Ÿåº¦ä¼˜åŒ–å®è·µ"},{"content":"ğŸ‘‹ å˜¿ è¿™é‡Œæ˜¯ kkkk24 çš„ä¸ªäººåšå®¢ã€‚\nä¸»è¦è®°å½•ä¸€äº›æŠ€æœ¯æŠ˜è…¾ã€è¸©å‘ç»å†ï¼Œå¶å°”ä¹Ÿå†™ç‚¹åˆ«çš„ã€‚\næŠ€æœ¯æ ˆ æ—¥å¸¸ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼š\nPython / JavaScript / Go Vue / React Django / FastAPI MySQL / PostgreSQL / Redis Docker / Linux ä¸æ˜¯ä»€ä¹ˆéƒ½ç²¾é€šï¼Œä½†ä»€ä¹ˆéƒ½èƒ½å†™ç‚¹ã€‚\nè¿™ä¸ªåšå®¢ ç”¨ Hugo + PaperMod ä¸»é¢˜æ­çš„ã€‚\néƒ¨ç½²æ–¹å¼ï¼šGitHub Actions è‡ªåŠ¨ç¼–è¯‘ â†’ æ¨åˆ° gh-pages â†’ æœåŠ¡å™¨æ‹‰å– â†’ Cloudflare CDNã€‚\nå…·ä½“å¯ä»¥çœ‹è¿™ç¯‡ï¼šèŠèŠè¿™ä¸ªåšå®¢æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„\nè”ç³» GitHub: kkkk24juastin Email: contact@kkkk24juastin.asia å…¶ä»– æ–‡ç« å¯ä»¥è½¬è½½ï¼Œæ³¨æ˜å‡ºå¤„å°±è¡Œ å‘ç°é”™è¯¯æˆ–è€…æœ‰å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€æˆ–è€…ç›´æ¥æ PR è¿™ä¸ªåšå®¢ä¸å–è¯¾ä¸å¸¦è´§ï¼Œçº¯ç²¹è‡ªå·±å†™ç€ç© ","permalink":"https://blog.kkkk24juastin.asia/about/","summary":"\u003ch2 id=\"-å˜¿\"\u003eğŸ‘‹ å˜¿\u003c/h2\u003e\n\u003cp\u003eè¿™é‡Œæ˜¯ \u003cstrong\u003ekkkk24\u003c/strong\u003e çš„ä¸ªäººåšå®¢ã€‚\u003c/p\u003e\n\u003cp\u003eä¸»è¦è®°å½•ä¸€äº›æŠ€æœ¯æŠ˜è…¾ã€è¸©å‘ç»å†ï¼Œå¶å°”ä¹Ÿå†™ç‚¹åˆ«çš„ã€‚\u003c/p\u003e\n\u003ch2 id=\"æŠ€æœ¯æ ˆ\"\u003eæŠ€æœ¯æ ˆ\u003c/h2\u003e\n\u003cp\u003eæ—¥å¸¸ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePython / JavaScript / Go\u003c/li\u003e\n\u003cli\u003eVue / React\u003c/li\u003e\n\u003cli\u003eDjango / FastAPI\u003c/li\u003e\n\u003cli\u003eMySQL / PostgreSQL / Redis\u003c/li\u003e\n\u003cli\u003eDocker / Linux\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä¸æ˜¯ä»€ä¹ˆéƒ½ç²¾é€šï¼Œä½†ä»€ä¹ˆéƒ½èƒ½å†™ç‚¹ã€‚\u003c/p\u003e\n\u003ch2 id=\"è¿™ä¸ªåšå®¢\"\u003eè¿™ä¸ªåšå®¢\u003c/h2\u003e\n\u003cp\u003eç”¨ \u003ca href=\"https://gohugo.io/\"\u003eHugo\u003c/a\u003e + \u003ca href=\"https://github.com/adityatelange/hugo-PaperMod\"\u003ePaperMod\u003c/a\u003e ä¸»é¢˜æ­çš„ã€‚\u003c/p\u003e\n\u003cp\u003eéƒ¨ç½²æ–¹å¼ï¼šGitHub Actions è‡ªåŠ¨ç¼–è¯‘ â†’ æ¨åˆ° gh-pages â†’ æœåŠ¡å™¨æ‹‰å– â†’ Cloudflare CDNã€‚\u003c/p\u003e\n\u003cp\u003eå…·ä½“å¯ä»¥çœ‹è¿™ç¯‡ï¼š\u003ca href=\"/posts/hugo-blog-architecture/\"\u003eèŠèŠè¿™ä¸ªåšå®¢æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"è”ç³»\"\u003eè”ç³»\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub: \u003ca href=\"https://github.com/kkkk24juastin\"\u003ekkkk24juastin\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eEmail: \u003ca href=\"mailto:contact@kkkk24juastin.asia\"\u003econtact@kkkk24juastin.asia\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"å…¶ä»–\"\u003eå…¶ä»–\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eæ–‡ç« å¯ä»¥è½¬è½½ï¼Œæ³¨æ˜å‡ºå¤„å°±è¡Œ\u003c/li\u003e\n\u003cli\u003eå‘ç°é”™è¯¯æˆ–è€…æœ‰å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€æˆ–è€…ç›´æ¥æ PR\u003c/li\u003e\n\u003cli\u003eè¿™ä¸ªåšå®¢ä¸å–è¯¾ä¸å¸¦è´§ï¼Œçº¯ç²¹è‡ªå·±å†™ç€ç©\u003c/li\u003e\n\u003c/ul\u003e","title":"å…³äº"},{"content":"ä¹‹å‰é€›åˆ«äººåšå®¢çš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°å·¦ä¸‹è§’æœ‰ä¸ªä¼šåŠ¨çš„å°äººï¼Œçœ¼ç›è¿˜ä¼šè·Ÿç€é¼ æ ‡è·‘ï¼Œæ„Ÿè§‰æŒºæœ‰æ„æ€çš„ã€‚ç ”ç©¶äº†ä¸€ä¸‹å‘ç°è¿™ç©æ„å« Live2Dï¼Œäºæ˜¯å†³å®šç»™è‡ªå·±çš„ Hexo åšå®¢ä¹Ÿæ•´ä¸€ä¸ªã€‚\næŠ˜è…¾äº†ä¸€æ™šä¸Šï¼Œè¸©äº†ä¸å°‘å‘ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å®ç°è¿‡ç¨‹ã€‚\næ•ˆæœ åŠ å®Œä¹‹åï¼Œåšå®¢å·¦ä¸‹è§’ä¼šå¤šä¸€ä¸ªäºŒæ¬¡å…ƒå°äººï¼Œèƒ½ï¼š\nçœ¼ç›è·Ÿç€é¼ æ ‡åŠ¨ï¼ˆæœ‰ç‚¹é­”æ€§ï¼‰ éšæœºæ˜¾ç¤ºä¸€è¨€ æ¢è£…ã€æ¢æ¨¡å‹ æˆªå›¾ä¿å­˜ è¿˜èƒ½ç©ä¸ªæ‰“ç –å—å°æ¸¸æˆ è¯´å®è¯æ²¡å•¥å®é™…ç”¨å¤„ï¼Œä½†çœ‹ç€å°±æ˜¯èˆ’æœ ğŸ˜‚\næœ€ç®€å•çš„æ–¹å¼ å¦‚æœåªæ˜¯æƒ³å¿«é€Ÿä½“éªŒï¼Œä¸€è¡Œä»£ç å°±å¤Ÿäº†ã€‚\nåœ¨ä¸»é¢˜çš„ layout/layout.ejs é‡ŒåŠ ä¸Šï¼š\n\u0026lt;script src=\u0026#34;https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/autoload.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; æ”¾åœ¨ \u0026lt;/body\u0026gt; ä¹‹å‰å°±è¡Œã€‚åˆ·æ–°é¡µé¢ï¼Œçœ‹æ¿å¨˜åº”è¯¥å°±å‡ºæ¥äº†ã€‚\nä¸è¿‡è¿™ç§æ–¹å¼æ²¡æ³•è‡ªå®šä¹‰ï¼Œæƒ³è¦æ›´å¤šæ§åˆ¶å°±å¾—ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚\nå®Œæ•´é…ç½®ç‰ˆ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç»„ä»¶ åœ¨ä¸»é¢˜ç›®å½•çš„ layout/_partial/ ä¸‹é¢æ–°å»ºä¸€ä¸ª live2d.ejsï¼š\n\u0026lt;%# çœ‹æ¿å¨˜ç»„ä»¶ %\u0026gt; \u0026lt;% if (theme.live2d \u0026amp;\u0026amp; theme.live2d.enable) { %\u0026gt; \u0026lt;% // è¯»å–é…ç½®ï¼Œç»™ä¸ªé»˜è®¤å€¼å…œåº• const cdnPath = (theme.live2d.cdn \u0026amp;\u0026amp; theme.live2d.cdn.url) ? theme.live2d.cdn.url : \u0026#39;https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/\u0026#39;; const modelId = (theme.live2d.model \u0026amp;\u0026amp; theme.live2d.model.id !== undefined) ? theme.live2d.model.id : 0; const modelCdnPath = (theme.live2d.model \u0026amp;\u0026amp; theme.live2d.model.cdnPath) ? theme.live2d.model.cdnPath : \u0026#39;https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/\u0026#39;; const toolItems = (theme.live2d.tools \u0026amp;\u0026amp; theme.live2d.tools.items) ? theme.live2d.tools.items : [\u0026#39;hitokoto\u0026#39;, \u0026#39;asteroids\u0026#39;, \u0026#39;switch-model\u0026#39;, \u0026#39;switch-texture\u0026#39;, \u0026#39;photo\u0026#39;, \u0026#39;info\u0026#39;, \u0026#39;quit\u0026#39;]; const drag = theme.live2d.drag !== undefined ? theme.live2d.drag : false; const logLevel = theme.live2d.logLevel || \u0026#39;warn\u0026#39;; %\u0026gt; \u0026lt;script\u0026gt; const live2d_path = \u0026#39;\u0026lt;%= cdnPath %\u0026gt;\u0026#39;; // åŠ¨æ€åŠ è½½èµ„æº function loadExternalResource(url, type) { return new Promise((resolve, reject) =\u0026gt; { let tag; if (type === \u0026#39;css\u0026#39;) { tag = document.createElement(\u0026#39;link\u0026#39;); tag.rel = \u0026#39;stylesheet\u0026#39;; tag.href = url; } else if (type === \u0026#39;js\u0026#39;) { tag = document.createElement(\u0026#39;script\u0026#39;); tag.type = \u0026#39;module\u0026#39;; tag.src = url; } if (tag) { tag.onload = () =\u0026gt; resolve(url); tag.onerror = () =\u0026gt; reject(url); document.head.appendChild(tag); } }); } (async () =\u0026gt; { // æ‰‹æœºä¸Šå°±åˆ«åŠ è½½äº†ï¼Œå¤ªå åœ°æ–¹ if (screen.width \u0026lt; 768) return; // å¤„ç†å›¾ç‰‡è·¨åŸŸï¼ˆè¿™ä¸ªå‘è¸©äº†å¥½ä¹…ï¼‰ const OriginalImage = window.Image; window.Image = function(...args) { const img = new OriginalImage(...args); img.crossOrigin = \u0026#34;anonymous\u0026#34;; return img; }; window.Image.prototype = OriginalImage.prototype; // åŠ è½½èµ„æº await Promise.all([ loadExternalResource(live2d_path + \u0026#39;waifu.css\u0026#39;, \u0026#39;css\u0026#39;), loadExternalResource(live2d_path + \u0026#39;waifu-tips.js\u0026#39;, \u0026#39;js\u0026#39;) ]); // åˆå§‹åŒ– initWidget({ waifuPath: live2d_path + \u0026#39;waifu-tips.json\u0026#39;, cdnPath: \u0026#39;\u0026lt;%= modelCdnPath %\u0026gt;\u0026#39;, cubism2Path: live2d_path + \u0026#39;live2d.min.js\u0026#39;, cubism5Path: \u0026#39;https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js\u0026#39;, modelId: \u0026lt;%= modelId %\u0026gt;, tools: \u0026lt;%- JSON.stringify(toolItems) %\u0026gt;, drag: \u0026lt;%= drag %\u0026gt;, logLevel: \u0026#39;\u0026lt;%= logLevel %\u0026gt;\u0026#39; }); })(); \u0026lt;/script\u0026gt; \u0026lt;% } %\u0026gt; ç¬¬äºŒæ­¥ï¼šå¼•å…¥ç»„ä»¶ åœ¨ layout/layout.ejs é‡Œå¼•å…¥ï¼ˆæ”¾åœ¨ \u0026lt;/body\u0026gt; å‰é¢ï¼‰ï¼š\n\u0026lt;%- partial(\u0026#39;_partial/live2d\u0026#39;) %\u0026gt; ç¬¬ä¸‰æ­¥ï¼šé…ç½®ä¸»é¢˜ åœ¨ä¸»é¢˜çš„ _config.yml é‡Œæ·»åŠ ï¼š\n# Live2D çœ‹æ¿å¨˜ live2d: enable: true model: id: 0 # é»˜è®¤æ¨¡å‹ cdnPath: https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/ tools: items: - hitokoto # ä¸€è¨€ - asteroids # å°æ¸¸æˆ - switch-model # åˆ‡æ¢æ¨¡å‹ - switch-texture # åˆ‡æ¢çš®è‚¤ - photo # æ‹ç…§ - info # å…³äº - quit # å…³é—­ drag: false logLevel: warn cdn: url: https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/ è¸©è¿‡çš„å‘ 1. çœ‹æ¿å¨˜å˜å½¢ ä¸€å¼€å§‹åœ¨ CSS é‡Œç»™å®¹å™¨è®¾äº†å®½é«˜ï¼Œç»“æœæ¨¡å‹æ¯”ä¾‹å…¨ä¹±äº†ã€‚åæ¥å‘ç°è¦è®©å®ƒè‡ªå·±åŠ è½½ waifu.cssï¼Œä¸è¦æ‰‹åŠ¨è®¾ç½®å°ºå¯¸ã€‚\n2. å›¾ç‰‡è·¨åŸŸ æ§åˆ¶å°ä¸€å †è·¨åŸŸé”™è¯¯ï¼Œæˆªå›¾åŠŸèƒ½ä¹Ÿç”¨ä¸äº†ã€‚è§£å†³æ–¹æ³•æ˜¯åœ¨åŠ è½½å‰ç»™ Image è®¾ç½® crossOriginï¼š\nconst OriginalImage = window.Image; window.Image = function(...args) { const img = new OriginalImage(...args); img.crossOrigin = \u0026#34;anonymous\u0026#34;; return img; }; 3. æ‰‹æœºä¸Šå¤ªå åœ°æ–¹ åŠ ä¸ªåˆ¤æ–­ï¼Œå±å¹•å°å°±ä¸åŠ è½½ï¼š\nif (screen.width \u0026lt; 768) return; 4. PJAX å¯¼è‡´é‡å¤åŠ è½½ æŠŠçœ‹æ¿å¨˜çš„ä»£ç æ”¾åˆ° PJAX åˆ·æ–°åŒºåŸŸå¤–é¢å°±å¥½äº†ã€‚\næƒ³ç”¨è‡ªå·±çš„æ¨¡å‹ï¼Ÿ é»˜è®¤ç”¨çš„æ˜¯ fghrsh çš„æ¨¡å‹ APIï¼Œé‡Œé¢æ¨¡å‹æŒºå¤šçš„ã€‚\nå¦‚æœæƒ³ç”¨è‡ªå·±çš„æ¨¡å‹ï¼Œå¯ä»¥ fork é‚£ä¸ªä»“åº“ï¼ŒæŠŠæ¨¡å‹æ”¾è¿›å»ï¼Œç„¶åæ”¹ä¸€ä¸‹ cdnPath æŒ‡å‘ä½ è‡ªå·±çš„åœ°å€ã€‚\nç›¸å…³é“¾æ¥ live2d-widget é¡¹ç›®åœ°å€ æ¨¡å‹èµ„æº live2d_api æ›´å¤šæ¨¡å‹èµ„æº å°±è¿™äº›ã€‚è™½ç„¶åªæ˜¯ä¸ªå°ç©æ„ï¼Œä½†æŠ˜è…¾çš„è¿‡ç¨‹è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚\næœ‰é—®é¢˜å¯ä»¥ç•™è¨€ ğŸ‘‹\n","permalink":"https://blog.kkkk24juastin.asia/posts/add-live2d-to-hexo-blog/","summary":"\u003cp\u003eä¹‹å‰é€›åˆ«äººåšå®¢çš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°å·¦ä¸‹è§’æœ‰ä¸ªä¼šåŠ¨çš„å°äººï¼Œçœ¼ç›è¿˜ä¼šè·Ÿç€é¼ æ ‡è·‘ï¼Œæ„Ÿè§‰æŒºæœ‰æ„æ€çš„ã€‚ç ”ç©¶äº†ä¸€ä¸‹å‘ç°è¿™ç©æ„å« Live2Dï¼Œäºæ˜¯å†³å®šç»™è‡ªå·±çš„ Hexo åšå®¢ä¹Ÿæ•´ä¸€ä¸ªã€‚\u003c/p\u003e\n\u003cp\u003eæŠ˜è…¾äº†ä¸€æ™šä¸Šï¼Œè¸©äº†ä¸å°‘å‘ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å®ç°è¿‡ç¨‹ã€‚\u003c/p\u003e\n\u003ch2 id=\"æ•ˆæœ\"\u003eæ•ˆæœ\u003c/h2\u003e\n\u003cp\u003eåŠ å®Œä¹‹åï¼Œåšå®¢å·¦ä¸‹è§’ä¼šå¤šä¸€ä¸ªäºŒæ¬¡å…ƒå°äººï¼Œèƒ½ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eçœ¼ç›è·Ÿç€é¼ æ ‡åŠ¨ï¼ˆæœ‰ç‚¹é­”æ€§ï¼‰\u003c/li\u003e\n\u003cli\u003eéšæœºæ˜¾ç¤ºä¸€è¨€\u003c/li\u003e\n\u003cli\u003eæ¢è£…ã€æ¢æ¨¡å‹\u003c/li\u003e\n\u003cli\u003eæˆªå›¾ä¿å­˜\u003c/li\u003e\n\u003cli\u003eè¿˜èƒ½ç©ä¸ªæ‰“ç –å—å°æ¸¸æˆ\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¯´å®è¯æ²¡å•¥å®é™…ç”¨å¤„ï¼Œä½†çœ‹ç€å°±æ˜¯èˆ’æœ ğŸ˜‚\u003c/p\u003e\n\u003ch2 id=\"æœ€ç®€å•çš„æ–¹å¼\"\u003eæœ€ç®€å•çš„æ–¹å¼\u003c/h2\u003e\n\u003cp\u003eå¦‚æœåªæ˜¯æƒ³å¿«é€Ÿä½“éªŒï¼Œä¸€è¡Œä»£ç å°±å¤Ÿäº†ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨ä¸»é¢˜çš„ \u003ccode\u003elayout/layout.ejs\u003c/code\u003e é‡ŒåŠ ä¸Šï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-html\" data-lang=\"html\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003esrc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#34;https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/autoload.js\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003escript\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ”¾åœ¨ \u003ccode\u003e\u0026lt;/body\u0026gt;\u003c/code\u003e ä¹‹å‰å°±è¡Œã€‚åˆ·æ–°é¡µé¢ï¼Œçœ‹æ¿å¨˜åº”è¯¥å°±å‡ºæ¥äº†ã€‚\u003c/p\u003e\n\u003cp\u003eä¸è¿‡è¿™ç§æ–¹å¼æ²¡æ³•è‡ªå®šä¹‰ï¼Œæƒ³è¦æ›´å¤šæ§åˆ¶å°±å¾—ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚\u003c/p\u003e\n\u003ch2 id=\"å®Œæ•´é…ç½®ç‰ˆ\"\u003eå®Œæ•´é…ç½®ç‰ˆ\u003c/h2\u003e\n\u003ch3 id=\"ç¬¬ä¸€æ­¥åˆ›å»ºç»„ä»¶\"\u003eç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç»„ä»¶\u003c/h3\u003e\n\u003cp\u003eåœ¨ä¸»é¢˜ç›®å½•çš„ \u003ccode\u003elayout/_partial/\u003c/code\u003e ä¸‹é¢æ–°å»ºä¸€ä¸ª \u003ccode\u003elive2d.ejs\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e\u0026lt;%\u003c/span\u003e\u003cspan class=\"c1\"\u003e# çœ‹æ¿å¨˜ç»„ä»¶ %\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e\u0026lt;%\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenable\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e\u0026lt;%\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eè¯»å–é…ç½®ï¼Œç»™ä¸ªé»˜è®¤å€¼å…œåº•\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003ecdnPath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdn\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdn\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"err\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdn\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003emodelId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e!==\u003c/span\u003e \u003cspan class=\"n\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"err\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003emodelCdnPath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdnPath\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"err\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdnPath\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003etoolItems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etools\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"err\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;hitokoto\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;asteroids\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;switch-model\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;switch-texture\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;photo\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;info\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;quit\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003edrag\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edrag\u003c/span\u003e \u003cspan class=\"o\"\u003e!==\u003c/span\u003e \u003cspan class=\"n\"\u003eundefined\u003c/span\u003e \u003cspan class=\"err\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edrag\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"bp\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003elogLevel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elogLevel\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;warn\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003escript\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003elive2d_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026lt;%= cdnPath %\u0026gt;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eåŠ¨æ€åŠ è½½èµ„æº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003efunction\u003c/span\u003e \u003cspan class=\"n\"\u003eloadExternalResource\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ereject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;css\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;link\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;stylesheet\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehref\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;js\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;script\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;module\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esrc\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eonload\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eonerror\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ereject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehead\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappendChild\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etag\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eæ‰‹æœºä¸Šå°±åˆ«åŠ è½½äº†ï¼Œå¤ªå åœ°æ–¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003escreen\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewidth\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e768\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eå¤„ç†å›¾ç‰‡è·¨åŸŸï¼ˆè¿™ä¸ªå‘è¸©äº†å¥½ä¹…ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003eOriginalImage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewindow\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eImage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"n\"\u003ewindow\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eImage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003eimg\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eOriginalImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003eimg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecrossOrigin\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;anonymous\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eimg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"n\"\u003ewindow\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eImage\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprototype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eOriginalImage\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eåŠ è½½èµ„æº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"n\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eall\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003eloadExternalResource\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d_path\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;waifu.css\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;css\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003eloadExternalResource\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elive2d_path\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;waifu-tips.js\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;js\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"o\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eåˆå§‹åŒ–\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"n\"\u003einitWidget\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003ewaifuPath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003elive2d_path\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;waifu-tips.json\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003ecdnPath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026lt;%= modelCdnPath %\u0026gt;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003ecubism2Path\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003elive2d_path\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;live2d.min.js\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003ecubism5Path\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003emodelId\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;%=\u003c/span\u003e \u003cspan class=\"n\"\u003emodelId\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003etools\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;%-\u003c/span\u003e \u003cspan class=\"n\"\u003eJSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estringify\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etoolItems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003edrag\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;%=\u003c/span\u003e \u003cspan class=\"n\"\u003edrag\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003elogLevel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026lt;%= logLevel %\u0026gt;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e})();\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"n\"\u003escript\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e\u0026lt;%\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"ç¬¬äºŒæ­¥å¼•å…¥ç»„ä»¶\"\u003eç¬¬äºŒæ­¥ï¼šå¼•å…¥ç»„ä»¶\u003c/h3\u003e\n\u003cp\u003eåœ¨ \u003ccode\u003elayout/layout.ejs\u003c/code\u003e é‡Œå¼•å…¥ï¼ˆæ”¾åœ¨ \u003ccode\u003e\u0026lt;/body\u0026gt;\u003c/code\u003e å‰é¢ï¼‰ï¼š\u003c/p\u003e","title":"ç»™åšå®¢åŠ ä¸ª Live2D çœ‹æ¿å¨˜"}]