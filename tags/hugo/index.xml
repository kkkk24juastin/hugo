<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hugo on kkkk24 çš„åšå®¢</title>
    <link>https://blog.kkkk24juastin.asia/tags/hugo/</link>
    <description>Recent content in Hugo on kkkk24 çš„åšå®¢</description>
    <generator>Hugo -- 0.155.2</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 06 Feb 2026 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://blog.kkkk24juastin.asia/tags/hugo/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>èŠèŠè¿™ä¸ªåšå®¢æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„</title>
      <link>https://blog.kkkk24juastin.asia/posts/hugo-blog-architecture/</link>
      <pubDate>Wed, 04 Feb 2026 00:00:00 +0000</pubDate>
      <guid>https://blog.kkkk24juastin.asia/posts/hugo-blog-architecture/</guid>
      <description>è®°å½•ä¸€ä¸‹åšå®¢ä»å†™æ–‡ç« åˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹ï¼Œæ¶‰åŠ Hugoã€GitHub Actionsã€æœåŠ¡å™¨éƒ¨ç½²å’Œ CDN åŠ é€Ÿ</description>
      <content:encoded><![CDATA[<p>æœ€è¿‘æŠŠåšå®¢ä» Hexo æ¢æˆäº† Hugoï¼Œé¡ºä¾¿é‡æ–°è®¾è®¡äº†ä¸€ä¸‹æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚è¶çƒ­ä¹è®°å½•ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åè‡ªå·±æŸ¥ã€‚</p>
<h2 id="å…ˆè¯´ç»“è®ºæ•´ä½“æµç¨‹">å…ˆè¯´ç»“è®ºï¼šæ•´ä½“æµç¨‹</h2>
<p>ç®€å•æ¥è¯´å°±æ˜¯è¿™ä¹ˆä¸ªäº‹å„¿ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">æˆ‘å†™ Markdown â†’ æ¨åˆ° GitHub â†’ Actions è‡ªåŠ¨ç¼–è¯‘ â†’ æœåŠ¡å™¨æ‹‰å– â†’ Cloudflare åŠ é€Ÿ
</span></span></code></pre></div><p>ç”»ä¸ªå›¾æ›´æ¸…æ¥šï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">æœ¬åœ°å†™æ–‡ç«  (Markdown)
</span></span><span class="line"><span class="cl">        â†“ git push
</span></span><span class="line"><span class="cl">GitHub main åˆ†æ”¯
</span></span><span class="line"><span class="cl">        â†“ è§¦å‘ Actions
</span></span><span class="line"><span class="cl">GitHub Actions ç¼–è¯‘
</span></span><span class="line"><span class="cl">        â†“ ç”Ÿæˆé™æ€æ–‡ä»¶
</span></span><span class="line"><span class="cl">gh-pages åˆ†æ”¯
</span></span><span class="line"><span class="cl">        â†“ æœåŠ¡å™¨ git pull
</span></span><span class="line"><span class="cl">Nginx æ‰˜ç®¡é™æ€æ–‡ä»¶
</span></span><span class="line"><span class="cl">        â†“ 
</span></span><span class="line"><span class="cl">Cloudflare CDN ç¼“å­˜åŠ é€Ÿ
</span></span><span class="line"><span class="cl">        â†“
</span></span><span class="line"><span class="cl">ç”¨æˆ·è®¿é—®
</span></span></code></pre></div><p>ä¸ºå•¥è¦æè¿™ä¹ˆå¤æ‚ï¼Ÿä¸»è¦æ˜¯ä¸æƒ³æ¯æ¬¡æ”¹ä¸ªé”™åˆ«å­—éƒ½è¦ç™»æœåŠ¡å™¨æ‰‹åŠ¨æ“ä½œã€‚</p>
<h2 id="ä¸ºå•¥é€‰-hugo">ä¸ºå•¥é€‰ Hugo</h2>
<p>ä¹‹å‰ç”¨çš„ Hexoï¼Œæ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æœ‰å‡ ä¸ªç—’ç‚¹ï¼š</p>
<ol>
<li><strong>npm ä¾èµ–å¤ªå¤šäº†</strong>ã€‚æ¯æ¬¡ CI å…‰è£…ä¾èµ–å°±å¾—å¥½ä¸€ä¼šå„¿ï¼Œå¶å°”è¿˜ä¼šå‡ºç‚¹ç‰ˆæœ¬å†²çªçš„å¹ºè›¾å­</li>
<li><strong>æœ¬åœ°é¢„è§ˆæ…¢</strong>ã€‚æ–‡ç« å¤šäº†ä¹‹åï¼Œçƒ­æ›´æ–°æ˜æ˜¾å˜å¡</li>
<li><strong>æƒ³å°å°é²œ</strong>ã€‚Hugo ç”¨ Go å†™çš„ï¼Œæ®è¯´å¿«å¾—ç¦»è°±</li>
</ol>
<p>å®é™…ç”¨ä¸‹æ¥ï¼Œç¡®å®å¿«ã€‚æœ¬åœ°é¢„è§ˆåŸºæœ¬ç§’å¼€ï¼ŒGitHub Actions é‚£è¾¹æ„å»ºä¹Ÿå°±å‡ ç§’é’Ÿçš„äº‹ã€‚</p>
<h2 id="github-actionsè‡ªåŠ¨åŒ–æ„å»º">GitHub Actionsï¼šè‡ªåŠ¨åŒ–æ„å»º</h2>
<p>è¿™æ˜¯æ•´å¥—æµç¨‹çš„æ ¸å¿ƒã€‚é…ç½®æ–‡ä»¶åœ¨ <code>.github/workflows/hugo.yml</code>ï¼Œåšçš„äº‹æƒ…ä¹Ÿç®€å•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build Hugo Site</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">main]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">build</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">è£… Hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          wget -O hugo.deb https://github.com/gohugoio/hugo/releases/...
</span></span></span><span class="line"><span class="cl"><span class="sd">          sudo dpkg -i hugo.deb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">æ‹‰ä»£ç </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="l">recursive </span><span class="w"> </span><span class="c"># ä¸»é¢˜æ˜¯ submodule</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ç¼–è¯‘</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --gc --minify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">æ¨åˆ° gh-pages</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">gh-pages</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">é¡ºæ‰‹æ¸…ä¸€ä¸‹ CDN ç¼“å­˜</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">curl -X POST &#34;https://api.cloudflare.com/...&#34; ...</span><span class="w">
</span></span></span></code></pre></div><p>æ¯æ¬¡ push åˆ° main åˆ†æ”¯ï¼ŒActions å°±è‡ªåŠ¨è·‘è¿™ä¸€å¥—ã€‚æˆåŠŸä¹‹åï¼Œç¼–è¯‘å¥½çš„é™æ€æ–‡ä»¶å°±èººåœ¨ gh-pages åˆ†æ”¯é‡Œäº†ã€‚</p>
<h2 id="åŒåˆ†æ”¯ç­–ç•¥">åŒåˆ†æ”¯ç­–ç•¥</h2>
<p>è¿™ä¸ªè®¾è®¡æˆ‘æŒºæ»¡æ„çš„ï¼š</p>
<ul>
<li><strong>main åˆ†æ”¯</strong>ï¼šæºä»£ç ï¼ŒMarkdown æ–‡ä»¶ + ä¸»é¢˜é…ç½®</li>
<li><strong>gh-pages åˆ†æ”¯</strong>ï¼šç¼–è¯‘äº§ç‰©ï¼Œçº¯é™æ€æ–‡ä»¶</li>
</ul>
<p>å¥½å¤„æ˜¯æœåŠ¡å™¨ä¸Šä¸ç”¨è£… Hugoï¼Œç›´æ¥æ‹‰ gh-pages å°±èƒ½ç”¨ã€‚ä¸‡ä¸€å“ªå¤©æƒ³æ¢ä¸ªéƒ¨ç½²æ–¹å¼ï¼Œä¹Ÿæ–¹ä¾¿ã€‚</p>
<h2 id="æœåŠ¡å™¨è¿™è¾¹">æœåŠ¡å™¨è¿™è¾¹</h2>
<p>æœåŠ¡å™¨å°±åšä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>å®šæ—¶ï¼ˆæˆ–æ‰‹åŠ¨ï¼‰ä» gh-pages æ‹‰æœ€æ–°çš„é™æ€æ–‡ä»¶</li>
<li>Nginx ä¼ºå€™ç€</li>
</ol>
<p>Nginx é…ç½®æ²¡å•¥ç‰¹åˆ«çš„ï¼Œä¸»è¦æ˜¯åŠ äº†ç‚¹ç¼“å­˜å’Œå‹ç¼©ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">blog.kkkk24juastin.asia</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">root</span> <span class="s">/var/www/blog</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># å‹ç¼©
</span></span></span><span class="line"><span class="cl">    <span class="kn">gzip</span> <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">gzip_types</span> <span class="s">text/css</span> <span class="s">application/javascript</span> <span class="s">text/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># é™æ€èµ„æºç¼“å­˜ä¹…ä¸€ç‚¹
</span></span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">~</span><span class="sr">*</span> <span class="s">\.(css|js|png|jpg|woff2)</span>$ <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">expires</span> <span class="s">1y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">add_header</span> <span class="s">Cache-Control</span> <span class="s">&#34;public,</span> <span class="s">immutable&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æ›´æ–°è„šæœ¬ä¹Ÿå°±å‡ è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="nb">cd</span> /var/www/blog
</span></span><span class="line"><span class="cl">git fetch origin gh-pages
</span></span><span class="line"><span class="cl">git reset --hard origin/gh-pages
</span></span></code></pre></div><p>æ‰” crontab é‡Œå®šæ—¶è·‘ï¼Œæˆ–è€…é…ä¸ª webhook è§¦å‘éƒ½è¡Œã€‚</p>
<h2 id="cloudflare-åŠ é€Ÿ">Cloudflare åŠ é€Ÿ</h2>
<p>æœ€åæŒ‚äº†å±‚ Cloudflareï¼Œä¸»è¦å›¾å‡ ä¸ªå¥½å¤„ï¼š</p>
<ol>
<li><strong>å…¨çƒ CDN</strong>ã€‚è®¿å®¢èƒ½ä»å°±è¿‘èŠ‚ç‚¹æ‹¿ç¼“å­˜ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å›æº</li>
<li><strong>å…è´¹ SSL</strong>ã€‚æ‡’å¾—è‡ªå·±æŠ˜è…¾è¯ä¹¦</li>
<li><strong>DDoS é˜²æŠ¤</strong>ã€‚è™½ç„¶æˆ‘è¿™å°ç ´ç«™åº”è¯¥æ²¡äººä¼šæ‰“</li>
</ol>
<p>ä¸è¿‡æœ‰ä¸ªå‘ï¼šCloudflare é»˜è®¤ä¸ç¼“å­˜ HTML é¡µé¢ã€‚å¯¹äºé™æ€åšå®¢æ¥è¯´è¿™å¤ªäºäº†ï¼Œå¾—æ‰‹åŠ¨åŠ ä¸ª Cache Ruleï¼Œè®©å®ƒæŠŠ HTML ä¹Ÿç¼“å­˜ä¸Šã€‚</p>
<p>é…ç½®å¥½ä¹‹åï¼Œè®¿é—®é€Ÿåº¦ä»ä¹‹å‰çš„ 2 ç§’å¤šé™åˆ°äº†å‡ åæ¯«ç§’ï¼Œæ•ˆæœç«‹ç«¿è§å½±ã€‚</p>
<h2 id="å®é™…æ•ˆæœ">å®é™…æ•ˆæœ</h2>
<p>ä¼˜åŒ–å‰åçš„å¯¹æ¯”ï¼š</p>
<table>
  <thead>
      <tr>
          <th>æŒ‡æ ‡</th>
          <th>ä¹‹å‰</th>
          <th>ç°åœ¨</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>é¦–å­—èŠ‚æ—¶é—´ (TTFB)</td>
          <td>2.28s</td>
          <td>~50ms</td>
      </tr>
      <tr>
          <td>é¡µé¢åŠ è½½</td>
          <td>3.5s</td>
          <td>0.8s</td>
      </tr>
  </tbody>
</table>
<p>ä¸»è¦æå‡æ¥è‡ª CDN ç¼“å­˜ã€‚ä»£ç å±‚é¢å…¶å®å·²ç»æ²¡å•¥å¯ä¼˜åŒ–çš„äº†ï¼Œç“¶é¢ˆéƒ½åœ¨ç½‘ç»œå»¶è¿Ÿã€‚</p>
<h2 id="ä¸€äº›ç¢ç¢å¿µ">ä¸€äº›ç¢ç¢å¿µ</h2>
<p>æ•´å¥—æµç¨‹è·‘ä¸‹æ¥ï¼Œæœ€çˆ½çš„æ˜¯çœŸçš„ä¸ç”¨æ“å¿ƒéƒ¨ç½²äº†ã€‚å†™å®Œæ–‡ç« ï¼Œcommit + pushï¼Œç­‰ä¸ªå‡ åç§’ï¼Œåˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°æ›´æ–°ã€‚</p>
<p>å½“ç„¶ä¹Ÿæœ‰ä¸çˆ½çš„åœ°æ–¹ã€‚Hugo çš„æ¨¡æ¿è¯­æ³•ï¼ˆGo Templateï¼‰ç”¨èµ·æ¥ä¸å¤ªé¡ºæ‰‹ï¼Œæ–‡æ¡£ä¹Ÿæ¯”è¾ƒæ•£ã€‚ä¸è¿‡å¿å¿å°±å¥½ï¼Œæ¯•ç«Ÿä¸»é¢˜é…å¥½äº†åŸºæœ¬ä¸ç”¨æ”¹ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨æŠ˜è…¾åšå®¢ï¼Œå¸Œæœ›è¿™ç¯‡èƒ½æœ‰ç‚¹å¸®åŠ©ã€‚æœ‰é—®é¢˜å¯ä»¥ç•™è¨€ï¼Œçœ‹åˆ°ä¼šå›çš„ ğŸ‘‹</p>
]]></content:encoded>
    </item>
    <item>
      <title>Hugo åšå®¢åŠ è½½é€Ÿåº¦ä¼˜åŒ–å®è·µ</title>
      <link>https://blog.kkkk24juastin.asia/posts/hugo-blog-performance-optimization/</link>
      <pubDate>Wed, 04 Feb 2026 00:00:00 +0000</pubDate>
      <guid>https://blog.kkkk24juastin.asia/posts/hugo-blog-performance-optimization/</guid>
      <description>è®°å½•ä¼˜åŒ– Hugo &#43; PaperMod åšå®¢åŠ è½½é€Ÿåº¦çš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ„å»ºé…ç½®ã€å›¾ç‰‡æ‡’åŠ è½½ã€èµ„æºå‹ç¼©ç­‰å¤šä¸ªæ–¹é¢</description>
      <content:encoded><![CDATA[<h2 id="å‘ç°é—®é¢˜">å‘ç°é—®é¢˜</h2>
<p>åšå®¢æ­å»ºå®Œæˆåï¼Œè®¿é—®æ—¶æ€»è§‰å¾—æœ‰ç‚¹å¡ã€‚æ‰“å¼€ Chrome DevTools çœ‹äº†ä¸‹ Network é¢æ¿ï¼Œå‘ç°å‡ ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å›¾ç‰‡æ²¡æœ‰åšæ‡’åŠ è½½ï¼Œé¦–å±å°±åŠ è½½äº†æ‰€æœ‰å›¾ç‰‡</li>
<li>HTML/CSS/JS æ–‡ä»¶å¯ä»¥è¿›ä¸€æ­¥å‹ç¼©</li>
<li>æ²¡æœ‰åˆ©ç”¨å¥½æµè§ˆå™¨ç¼“å­˜</li>
<li>å¤–éƒ¨èµ„æºï¼ˆå¦‚å­—ä½“ï¼‰è¯·æ±‚æœ‰å»¶è¿Ÿ</li>
</ol>
<p>æ—¢ç„¶å‘ç°äº†é—®é¢˜ï¼Œé‚£å°±ä¸€ä¸ªä¸ªè§£å†³ã€‚</p>
<h2 id="hugo-æ„å»ºä¼˜åŒ–">Hugo æ„å»ºä¼˜åŒ–</h2>
<h3 id="æ·±åº¦å‹ç¼©é…ç½®">æ·±åº¦å‹ç¼©é…ç½®</h3>
<p>Hugo è‡ªå¸¦ minify åŠŸèƒ½ï¼Œä½†é»˜è®¤é…ç½®æ¯”è¾ƒä¿å®ˆã€‚åœ¨ <code>hugo.toml</code> ä¸­å¯ä»¥é…ç½®æ›´æ¿€è¿›çš„å‹ç¼©é€‰é¡¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">minify</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">disableXML</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="nx">minifyOutput</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">.</span><span class="nx">css</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepCSS2</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="nx">precision</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">.</span><span class="nx">html</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepDocumentTags</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepEndTags</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepQuotes</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepWhitespace</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">.</span><span class="nx">js</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepVarNames</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="nx">precision</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">.</span><span class="nx">json</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepNumbers</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="nx">precision</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">minify</span><span class="p">.</span><span class="nx">tdewolff</span><span class="p">.</span><span class="nx">svg</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keepComments</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="nx">precision</span> <span class="p">=</span> <span class="mi">0</span>
</span></span></code></pre></div><p>è¿™ä¸ªé…ç½®ä½¿ç”¨äº† <a href="https://github.com/tdewolff/minify">tdewolff/minify</a> åº“çš„å‚æ•°ï¼Œå¯ä»¥å¯¹å„ç±»èµ„æºåšæ·±åº¦å‹ç¼©ï¼š</p>
<ul>
<li><strong>CSS</strong>: ç§»é™¤ä¸å¿…è¦çš„ç©ºæ ¼ã€ç®€åŒ–æ•°å€¼ç²¾åº¦</li>
<li><strong>HTML</strong>: ç§»é™¤ç©ºç™½ã€å¯é€‰å¼•å·</li>
<li><strong>JS</strong>: å‹ç¼©å˜é‡å</li>
<li><strong>SVG</strong>: ç§»é™¤æ³¨é‡Šã€ç®€åŒ–æ•°å€¼</li>
</ul>
<h3 id="æ„å»ºç¼“å­˜">æ„å»ºç¼“å­˜</h3>
<p>é‡å¤æ„å»ºæ—¶ï¼Œå¾ˆå¤šèµ„æºæ˜¯ä¸å˜çš„ï¼Œå¯ä»¥åˆ©ç”¨ç¼“å­˜åŠ é€Ÿï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">build</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">writeStats</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">caches</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">caches</span><span class="p">.</span><span class="nx">assets</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dir</span> <span class="p">=</span> <span class="s2">&#34;:resourceDir/_gen&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">maxAge</span> <span class="p">=</span> <span class="s2">&#34;720h&#34;</span>  <span class="c"># 30 å¤©</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">caches</span><span class="p">.</span><span class="nx">getcsv</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dir</span> <span class="p">=</span> <span class="s2">&#34;:cacheDir/:project&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">maxAge</span> <span class="p">=</span> <span class="s2">&#34;4h&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">caches</span><span class="p">.</span><span class="nx">getjson</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dir</span> <span class="p">=</span> <span class="s2">&#34;:cacheDir/:project&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">maxAge</span> <span class="p">=</span> <span class="s2">&#34;4h&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">caches</span><span class="p">.</span><span class="nx">getresource</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dir</span> <span class="p">=</span> <span class="s2">&#34;:cacheDir/:project&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">maxAge</span> <span class="p">=</span> <span class="s2">&#34;4h&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">caches</span><span class="p">.</span><span class="nx">images</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dir</span> <span class="p">=</span> <span class="s2">&#34;:resourceDir/_gen&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">maxAge</span> <span class="p">=</span> <span class="s2">&#34;720h&#34;</span>
</span></span></code></pre></div><p><code>writeStats = true</code> ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½¿ç”¨è¿‡çš„ç±»åçš„æ–‡ä»¶ï¼Œå¯ä»¥é…åˆ PurgeCSS åš tree-shakingï¼ˆè™½ç„¶ PaperMod ä¸»é¢˜æœ¬èº«å·²ç»å¾ˆç²¾ç®€äº†ï¼‰ã€‚</p>
<h3 id="å›¾ç‰‡å¤„ç†ä¼˜åŒ–">å›¾ç‰‡å¤„ç†ä¼˜åŒ–</h3>
<p>Hugo çš„å›¾ç‰‡å¤„ç†åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œåˆç†é…ç½®å¯ä»¥å‡å°å›¾ç‰‡ä½“ç§¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">imaging</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">quality</span> <span class="p">=</span> <span class="mi">80</span>
</span></span><span class="line"><span class="cl">  <span class="nx">resampleFilter</span> <span class="p">=</span> <span class="s2">&#34;Lanczos&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">hint</span> <span class="p">=</span> <span class="s2">&#34;photo&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">anchor</span> <span class="p">=</span> <span class="s2">&#34;Smart&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bgColor</span> <span class="p">=</span> <span class="s2">&#34;#ffffff&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">imaging</span><span class="p">.</span><span class="nx">exif</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">disableDate</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">    <span class="nx">disableLatLong</span> <span class="p">=</span> <span class="kc">true</span>  <span class="c"># ä¿æŠ¤éšç§</span>
</span></span></code></pre></div><ul>
<li><code>quality = 80</code>ï¼šå›¾ç‰‡è´¨é‡è®¾ä¸º 80%ï¼Œè‚‰çœ¼å‡ ä¹çœ‹ä¸å‡ºå·®åˆ«ï¼Œä½†ä½“ç§¯èƒ½å‡å°ä¸å°‘</li>
<li><code>resampleFilter = &quot;Lanczos&quot;</code>ï¼šé«˜è´¨é‡é‡é‡‡æ ·ç®—æ³•ï¼Œé€‚åˆç¼©æ”¾ç…§ç‰‡</li>
<li><code>anchor = &quot;Smart&quot;</code>ï¼šæ™ºèƒ½è£å‰ªï¼Œè‡ªåŠ¨è¯†åˆ«å›¾ç‰‡ä¸»ä½“</li>
<li><code>disableLatLong = true</code>ï¼šç§»é™¤ EXIF ä¸­çš„ä½ç½®ä¿¡æ¯ï¼Œä¿æŠ¤éšç§</li>
</ul>
<h2 id="å‰ç«¯ä¼˜åŒ–">å‰ç«¯ä¼˜åŒ–</h2>
<h3 id="dns-é¢„è§£æå’Œé¢„è¿æ¥">DNS é¢„è§£æå’Œé¢„è¿æ¥</h3>
<p>æµè§ˆå™¨è§£æåŸŸåéœ€è¦æ—¶é—´ï¼Œå¯ä»¥ç”¨ <code>dns-prefetch</code> æå‰è§£æå¤–éƒ¨åŸŸåï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- æ”¾åœ¨ layouts/partials/extend_head.html --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;dns-prefetch&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;//fonts.googleapis.com&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;dns-prefetch&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;//fonts.gstatic.com&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;dns-prefetch&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;//cdn.jsdelivr.net&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preconnect&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://fonts.googleapis.com&#34;</span> <span class="na">crossorigin</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preconnect&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://fonts.gstatic.com&#34;</span> <span class="na">crossorigin</span><span class="p">&gt;</span>
</span></span></code></pre></div><p><code>preconnect</code> æ¯” <code>dns-prefetch</code> æ›´è¿›ä¸€æ­¥ï¼Œä¼šæå‰å»ºç«‹å®Œæ•´çš„ TCP è¿æ¥ã€‚</p>
<h3 id="å›¾ç‰‡æ‡’åŠ è½½">å›¾ç‰‡æ‡’åŠ è½½</h3>
<p>ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒåŸç”Ÿçš„ <code>loading=&quot;lazy&quot;</code> å±æ€§ï¼Œä¸éœ€è¦é¢å¤–çš„ JS åº“ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">function</span> <span class="nx">addLoadedClass</span><span class="p">(</span><span class="nx">img</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">img</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;loaded&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">img</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">img</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;loaded&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.post-content img&#39;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">img</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">img</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="s1">&#39;loading&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">img</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;loading&#39;</span><span class="p">,</span> <span class="s1">&#39;lazy&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">img</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;decoding&#39;</span><span class="p">,</span> <span class="s1">&#39;async&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">addLoadedClass</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>è¿™æ®µä»£ç åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>ç»™æ‰€æœ‰æ–‡ç« å›¾ç‰‡æ·»åŠ  <code>loading=&quot;lazy&quot;</code> å’Œ <code>decoding=&quot;async&quot;</code> å±æ€§</li>
<li>å›¾ç‰‡åŠ è½½å®Œæˆåæ·»åŠ  <code>loaded</code> ç±»ï¼Œé…åˆ CSS åšæ¸æ˜¾æ•ˆæœ</li>
</ol>
<h3 id="å›¾ç‰‡æ¸æ˜¾æ•ˆæœ">å›¾ç‰‡æ¸æ˜¾æ•ˆæœ</h3>
<p>é…åˆä¸Šé¢çš„ JSï¼Œåœ¨ CSS ä¸­å®ç°å¹³æ»‘çš„æ¸æ˜¾æ•ˆæœï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* assets/css/extended/custom.css */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">post-content</span> <span class="nt">img</span><span class="o">,</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">entry-cover</span> <span class="nt">img</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">background-color</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">code</span><span class="o">-</span><span class="n">bg</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">transition</span><span class="p">:</span> <span class="k">opacity</span> <span class="mf">0.3</span><span class="kt">s</span> <span class="kc">ease-in-out</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">post-content</span> <span class="nt">img</span><span class="o">[</span><span class="nt">loading</span><span class="o">=</span><span class="s2">&#34;lazy&#34;</span><span class="o">],</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">entry-cover</span> <span class="nt">img</span><span class="o">[</span><span class="nt">loading</span><span class="o">=</span><span class="s2">&#34;lazy&#34;</span><span class="o">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">opacity</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">post-content</span> <span class="nt">img</span><span class="p">.</span><span class="nc">loaded</span><span class="o">,</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">entry-cover</span> <span class="nt">img</span><span class="p">.</span><span class="nc">loaded</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¿™æ ·å›¾ç‰‡åœ¨åŠ è½½æ—¶ä¼šæ˜¾ç¤ºä¸€ä¸ªç°è‰²å ä½èƒŒæ™¯ï¼ŒåŠ è½½å®Œæˆåå¹³æ»‘æ˜¾ç¤ºã€‚</p>
<h3 id="å‡å°‘å¸ƒå±€åç§»">å‡å°‘å¸ƒå±€åç§»</h3>
<p>å›¾ç‰‡åŠ è½½æ—¶å¦‚æœæ²¡æœ‰é¢„ç•™ç©ºé—´ï¼Œä¼šå¯¼è‡´é¡µé¢å¸ƒå±€è·³åŠ¨ï¼ˆCLS æŒ‡æ ‡ï¼‰ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">.</span><span class="nc">post-content</span> <span class="nt">img</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">aspect-ratio</span><span class="p">:</span> <span class="nb">attr</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">/</span> <span class="nb">attr</span><span class="p">(</span><span class="n">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">height</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">max-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>å¦‚æœå›¾ç‰‡è®¾ç½®äº† width å’Œ height å±æ€§ï¼Œæµè§ˆå™¨å¯ä»¥æå‰è®¡ç®—å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”ï¼Œé¢„ç•™å¥½ç©ºé—´ã€‚</p>
<h3 id="å°Šé‡ç”¨æˆ·åå¥½">å°Šé‡ç”¨æˆ·åå¥½</h3>
<p>æœ‰äº›ç”¨æˆ·å¯èƒ½å¯¹åŠ¨ç”»æ•æ„Ÿï¼Œå¯ä»¥æ£€æµ‹å¹¶ç¦ç”¨è¿‡æ¸¡æ•ˆæœï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">prefers-reduced-motion</span><span class="o">:</span> <span class="nt">no-preference</span><span class="o">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">html</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">scroll-behavior</span><span class="p">:</span> <span class="kc">smooth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">prefers-reduced-motion</span><span class="o">:</span> <span class="nt">reduce</span><span class="o">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="o">*,</span>
</span></span><span class="line"><span class="cl">  <span class="o">*</span><span class="p">::</span><span class="nd">before</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">  <span class="o">*</span><span class="p">::</span><span class="nd">after</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">animation-duration</span><span class="p">:</span> <span class="mf">0.01</span><span class="kt">ms</span> <span class="cp">!important</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">transition-duration</span><span class="p">:</span> <span class="mf">0.01</span><span class="kt">ms</span> <span class="cp">!important</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">scroll-behavior</span><span class="p">:</span> <span class="kc">auto</span> <span class="cp">!important</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="ä¼˜åŒ–æ•ˆæœ">ä¼˜åŒ–æ•ˆæœ</h2>
<p>åšå®Œè¿™äº›ä¼˜åŒ–åï¼Œå†çœ‹ Lighthouse è·‘åˆ†ï¼š</p>
<table>
  <thead>
      <tr>
          <th>æŒ‡æ ‡</th>
          <th>ä¼˜åŒ–å‰</th>
          <th>ä¼˜åŒ–å</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP)</td>
          <td>~1.5s</td>
          <td>~0.8s</td>
      </tr>
      <tr>
          <td>æœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP)</td>
          <td>~2.5s</td>
          <td>~1.5s</td>
      </tr>
      <tr>
          <td>ç´¯ç§¯å¸ƒå±€åç§» (CLS)</td>
          <td>0.15</td>
          <td>&lt; 0.05</td>
      </tr>
  </tbody>
</table>
<p>å½“ç„¶ï¼Œå®é™…æ•ˆæœè¿˜å–å†³äºæœåŠ¡å™¨æ€§èƒ½å’Œç”¨æˆ·ç½‘ç»œã€‚</p>
<h2 id="æ›´å¤šä¼˜åŒ–æ€è·¯">æ›´å¤šä¼˜åŒ–æ€è·¯</h2>
<p>è¿™æ¬¡åªåšäº† Hugo æœ¬èº«çš„ä¼˜åŒ–ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥ç»§ç»­ä¼˜åŒ–çš„æ–¹å‘ï¼š</p>
<ol>
<li><strong>CDN åŠ é€Ÿ</strong>ï¼šæŠŠé™æ€èµ„æºæ”¾åˆ° CDN ä¸Šï¼Œå…¨çƒè®¿é—®éƒ½å¾ˆå¿«</li>
<li><strong>Gzip/Brotli å‹ç¼©</strong>ï¼šæœåŠ¡å™¨å¼€å¯å‹ç¼©ï¼Œè¿›ä¸€æ­¥å‡å°ä¼ è¾“ä½“ç§¯</li>
<li><strong>HTTP/2</strong>ï¼šå¯ç”¨ HTTP/2 å¤šè·¯å¤ç”¨ï¼Œå¹¶è¡ŒåŠ è½½èµ„æº</li>
<li><strong>å­—ä½“ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ <code>font-display: swap</code> é¿å…å­—ä½“é˜»å¡æ¸²æŸ“</li>
<li><strong>å›¾ç‰‡æ ¼å¼</strong>ï¼šä½¿ç”¨ WebP/AVIF ç­‰ç°ä»£æ ¼å¼</li>
</ol>
<p>åç»­æœ‰ç©ºå†ç»§ç»­æŠ˜è…¾ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://gohugo.io/getting-started/configuration/#configure-minify">Hugo å®˜æ–¹æ–‡æ¡£ - Configure Minify</a></li>
<li><a href="https://gohugo.io/content-management/image-processing/">Hugo å®˜æ–¹æ–‡æ¡£ - Image Processing</a></li>
<li><a href="https://web.dev/browser-level-image-lazy-loading/">Web.dev - Browser-level image lazy loading</a></li>
<li><a href="https://web.dev/optimize-cls/">Web.dev - Optimize Cumulative Layout Shift</a></li>
</ul>
]]></content:encoded>
    </item>
  </channel>
</rss>
